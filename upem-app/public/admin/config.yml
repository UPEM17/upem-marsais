# =============================
# ‚öôÔ∏è CONFIGURATION DECAP CMS
# =============================

locale: fr
site_url: https://upem17.pages.dev
logo_url: /logo.png

backend:
  name: github
  repo: UPEM17/upem-marsais        # d√©p√¥t GitHub
  branch: main                     # branche principale
  commit_messages:
    create: "üÜï {{collection}} : {{slug}}"
    update: "‚úèÔ∏è {{collection}} : {{slug}}"
    delete: "üóëÔ∏è {{collection}} : {{slug}}"
    uploadMedia: "üì∏ m√©dia : {{path}}"
    deleteMedia: "üßπ suppr m√©dia : {{path}}"

# üëâ Enregistre directement dans main (pas de brouillons cach√©s)
publish_mode: simple

# Medias
media_folder: "public/uploads"     # chemin dans le repo
public_folder: "/uploads"          # URL publique

# Format par d√©faut
slug:
  encoding: "ascii"
  clean_accents: true

collections:
  # üì∞ ACTUALIT√âS -> content/posts
  - name: "actualites"
    label: "Actualit√©s"
    folder: "content/posts"
    create: true
    extension: "md"
    format: "frontmatter"
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    fields:
      - { label: "Titre", name: "title", widget: "string" }
      - { label: "Date", name: "date", widget: "datetime" }
      - { label: "Image (couverture)", name: "image", widget: "image", required: false }
      - { label: "Tags", name: "tags", widget: "list", required: false }
      - { label: "R√©sum√©", name: "summary", widget: "text", required: false }
      - { label: "Contenu", name: "body", widget: "markdown" }

  # üéâ √âV√âNEMENTS -> content/events
  - name: "evenements"
    label: "√âv√©nements"
    folder: "content/events"
    create: true
    extension: "md"
    format: "frontmatter"
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    fields:
      - { label: "Titre", name: "title", widget: "string" }
      - { label: "Date", name: "date", widget: "datetime" }
      - { label: "Lieu", name: "lieu", widget: "string", required: false }
      - { label: "Image", name: "image", widget: "image", required: false }
      - { label: "Description", name: "body", widget: "markdown" }

  # üßæ COMPTES-RENDUS -> content/minutes
  - name: "comptes_rendus"
    label: "Comptes rendus"
    folder: "content/minutes"
    create: true
    extension: "md"
    format: "frontmatter"
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    fields:
      - { label: "Titre", name: "title", widget: "string" }
      - { label: "Date", name: "date", widget: "datetime" }
      - { label: "Document (PDF)", name: "fichier", widget: "file", required: false }
      - { label: "R√©sum√© / Notes", name: "body", widget: "markdown", required: false }

  # üì¶ COMMANDES -> content/commandes (cr√©e ce dossier si absent)
  - name: "commandes"
    label: "Commandes"
    folder: "content/commandes"
    create: true
    extension: "md"
    format: "frontmatter"
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    fields:
      - { label: "Nom de la commande", name: "title", widget: "string" }
      - { label: "Date limite", name: "date", widget: "datetime" }
      - { label: "Image / visuel", name: "image", widget: "image", required: false }
      - { label: "D√©tails", name: "body", widget: "markdown" }

  # üñºÔ∏è GALERIE -> content/galerie (cr√©e ce dossier si absent)
  - name: "galerie"
    label: "Galerie"
    folder: "content/galerie"
    create: true
    extension: "md"
    format: "frontmatter"
    slug: "{{slug}}"
    fields:
      - { label: "Titre", name: "title", widget: "string" }
      - { label: "Date", name: "date", widget: "datetime", required: false }
      - { label: "Image", name: "image", widget: "image" }
      - { label: "Description", name: "body", widget: "markdown", required: false }
